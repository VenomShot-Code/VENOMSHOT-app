<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VENOMSHOT FIX</title>
    <style>
        body { margin: 0; background: #111; color: red; overflow: hidden; touch-action: none; text-align: center; }
        canvas { display: block; background: #000; margin: 0 auto; }
        #stats { position: fixed; top: 10px; left: 10px; font-family: sans-serif; font-size: 20px; }
    </style>
</head>
<body>
    <div id="stats">KILLS: <span id="sc">0</span> | HP: <span id="hp">100</span></div>
    <canvas id="g"></canvas>

<script>
    const c = document.getElementById('g'), x = c.getContext('2d');
    let w = c.width = window.innerWidth, h = c.height = window.innerHeight;
    let score = 0, health = 100, active = true;
    let p = {x: w/2, y: h/2}, bullets = [], enemies = [];

    window.onmousedown = window.ontouchstart = (e) => {
        if(!active) return;
        let tx = e.clientX || e.touches[0].clientX, ty = e.clientY || e.touches[0].clientY;
        let ang = Math.atan2(ty - p.y, tx - p.x);
        bullets.push({x: p.x, y: p.y, vx: Math.cos(ang)*10, vy: Math.sin(ang)*10});
    };

    function spawn() {
        if(!active) return;
        enemies.push({x: Math.random()*w, y: Math.random() < 0.5 ? 0 : h, s: 1.5});
        setTimeout(spawn, 1000);
    }

    function draw() {
        if(!active) return;
        x.fillStyle = "black"; x.fillRect(0,0,w,h);
        
        // Player
        x.fillStyle = "cyan"; x.beginPath(); x.arc(p.x, p.y, 15, 0, 7); x.fill();

        // Bullets
        bullets.forEach((b,i) => {
            b.x += b.vx; b.y += b.vy;
            x.fillStyle = "yellow"; x.fillRect(b.x, b.y, 5, 5);
        });

        // Enemies
        enemies.forEach((e,i) => {
            let ang = Math.atan2(p.y - e.y, p.x - e.x);
            e.x += Math.cos(ang)*e.s; e.y += Math.sin(ang)*e.s;
            x.fillStyle = "red"; x.beginPath(); x.arc(e.x, e.y, 15, 0, 7); x.fill();

            if(Math.hypot(p.x-e.x, p.y-e.y) < 30) { 
                health -= 1; document.getElementById('hp').innerText = health;
                if(health <= 0) { active = false; alert("GAME OVER! KILLS: " + score); location.reload(); }
            }

            bullets.forEach((b,bi) => {
                if(Math.hypot(b.x-e.x, b.y-e.y) < 20) {
                    enemies.splice(i,1); bullets.splice(bi,1);
                    score++; document.getElementById('sc').innerText = score;
                }
            });
        });
        requestAnimationFrame(draw);
    }
    spawn(); draw();
</script>
</body>
</html>
